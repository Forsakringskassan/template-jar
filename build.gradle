buildscript {
  repositories {
	gradlePluginPortal()
	mavenCentral()
	mavenLocal()
	maven {
	  url = uri("https://maven.pkg.github.com/Forsakringskassan/gradle-conventions")
	  credentials {
        username = project.findProperty("GITHUB_ACTOR") ?: System.getenv("GITHUB_ACTOR")
        password = project.findProperty("GITHUB_TOKEN") ?: System.getenv("GITHUB_TOKEN")
	  }
	}
  }

  dependencies {
    classpath "se.fk.gradle:gradle-conventions:1.8.0"
  }
}

apply plugin: "se.fk.gradle.bundle-jar"

javaExtension {
	javaVersion = 21
}

staticCodeAnalysisExtension {
	maxViolations.set(1)
}

dependencies {
	implementation 'com.google.code.gson:gson:2.13.2'

	compileOnly "org.immutables:value:2.11.4"
	annotationProcessor "org.immutables:value:2.11.4"

	testImplementation "org.junit.jupiter:junit-jupiter:6.0.0"
	testImplementation "org.assertj:assertj-core:3.27.6"
}
